---
import ArticleCard from "../components/ArticleCard.astro";
import Link from "../components/Link.astro";
import Links from "../components/Links.astro";
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";

const blog = (await getCollection("blog"))
    .filter((x) => x.data.pub < new Date())
    .sort((a, b) => b.data.pub.valueOf() - a.data.pub.valueOf());
---

<Layout>
    <h2>Links</h2>
    <div class="catgrid">
        <Links
            title="Actual socials"
            links={[
                ["Twitter", "//twitter.com/pixelcmtd"],
                ["Mastodon", "//mastodon.online/@pixel"],
                ["Traewelling", "//traewelling.de/@pixel"],
                ["Reddit", "//reddit.com/u/actual_chrissx/"],
                ["Raddle", "//raddle.me/u/chrissx"],
                ["Discord", "//discord.com/users/231670489779666944"],
                ["Matrix", "//matrix.to/#/@chrissx:matrix.org"],
                ["Instagram", "//instagram.com/pixelcmtd"],
            ]}
        />
        <Links
            title="Music"
            links={[
                ["Spotify", "//open.spotify.com/artist/2rocyi9EwRuEPwN9gF6Lbv"],
                [
                    "Apple Music",
                    "//music.apple.com/de/artist/chrissx/1480240715",
                ],
                ["Tidal", "//tidal.com/browse/artist/16849361"],
            ]}
        />
        <Links
            title="Games"
            links={[["Steam", "//steamcommunity.com/id/pixelcmtd"]]}
        >
            <li slot="after">Battle.net/Blizzard: chrissx#21230</li>
            <li slot="after">Bethesda: pixelcmtd</li>
            <li slot="after">Minecraft: pixelcmtd</li>
        </Links>
        <Links
            title="Misc"
            links={[
                ["YouTube: chrissx Media", "//youtube.com/@chrissxMedia"],
                ["YouTube: XXLP", "//youtube.com/@pixelcmtd"],
                ["YouTube: Pixel Engineering", "//youtube.com/@pixeleng"],
                ["GitHub", "//github.com/pixelcmtd"],
                ["NGL", "//ngl.link/pixel76232"],
                [
                    "BisaBoard",
                    "//community.bisafans.de/index.php?user/95320-chrissx/",
                ],
                [
                    "Wikipedia (DE)",
                    "//de.wikipedia.org/wiki/Benutzerin:Chrissx_official",
                ],
                [
                    "Wikipedia (EN)",
                    "//en.wikipedia.org/wiki/User:Chrissx_official",
                ],
            ]}
        >
            <Link href="email_empfangen.flac" slot="before">
                EMAIL EMPFANGEN SOUND
            </Link>
        </Links>
    </div>
    <h2>Blog Articles</h2>
    <ul>
        {blog.map((x) => <ArticleCard {...x} />)}
    </ul>
</Layout>

<style>
    h2 {
        width: max-content;
        margin: 0.5em auto;
    }

    .catgrid {
        display: flex;
        flex-flow: row wrap;
        justify-content: space-evenly;
        row-gap: 1em;
    }

    ul {
        display: flex;
        gap: 1em;
        padding: 0;
        flex-flow: column;
    }

    li {
        list-style: none;
        margin-top: 0.2em;
    }

    :link,
    :visited {
        color: #aaaaaa;
    }
</style>
